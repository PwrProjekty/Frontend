(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7cc62cc"],{"053a":function(e,t,n){"use strict";n("6f1d")},"16c6":function(e,t,n){"use strict";n("98f6")},"4dfd":function(e,t,n){"use strict";n("e81b")},"6b10":function(e,t,n){},"6f1d":function(e,t,n){},"816c":function(e,t,n){"use strict";n("6b10")},8760:function(e,t,n){"use strict";n("eabf")},"98f6":function(e,t,n){},b0c0:function(e,t,n){var a=n("83ab"),i=n("9bf2").f,c=Function.prototype,s=c.toString,o=/^\s*function ([^ (]*)/,r="name";a&&!(r in c)&&i(c,r,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(e){return""}}})},d7ba:function(e,t,n){"use strict";n.r(t);n("99af");var a=n("7a23"),i=Object(a["H"])("data-v-59e1af0a");Object(a["t"])("data-v-59e1af0a");var c={class:"WaypointsAdmin"},s=Object(a["h"])("h1",null," Zarządzaj punktami na trasie ",-1),o={class:"content"},r={class:"waypoints_list"},d=Object(a["f"])('<div class="list_header" data-v-59e1af0a><div class="coordinates" data-v-59e1af0a> Współrzędne X/Y </div><div class="name" data-v-59e1af0a> Nazwa punktu na trasie </div><div class="asl" data-v-59e1af0a> Wysokość NPM </div><div class="options" data-v-59e1af0a> Opcje </div></div>',1);Object(a["r"])();var u=i((function(e,t,n,i,u,l){var b=Object(a["x"])("waypoint-item"),h=Object(a["x"])("AddWaypoint");return Object(a["q"])(),Object(a["d"])("div",c,[s,Object(a["h"])("div",o,[Object(a["h"])("button",{class:"add",onClick:t[1]||(t[1]=function(){return l.addWaypoint&&l.addWaypoint.apply(l,arguments)})},"Dodaj"),Object(a["h"])("div",r,[d,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(u.results,(function(e,t){return Object(a["q"])(),Object(a["d"])(b,{item:e,row_style:t%2===0?"even":"odd",key:"".concat(e.id).concat(e.waypoint_name).concat(e.height_asl),onReload:l.getWaypoints},null,8,["item","row_style","onReload"])})),128))]),u.showAddWindow?(Object(a["q"])(),Object(a["d"])(h,{key:0,class:"add_window",onCancel:t[2]||(t[2]=function(e){return u.showAddWindow=!1}),onConfirm:l.confirmAdd},null,8,["onConfirm"])):Object(a["e"])("",!0)])])})),l=n("bc3a"),b=n.n(l),h=(n("b0c0"),Object(a["H"])("data-v-5aed7f0e"));Object(a["t"])("data-v-5aed7f0e");var p={class:"coordinates"},j={class:"name"},m={class:"asl"},O={class:"options"};Object(a["r"])();var f=h((function(e,t,n,i,c,s){var o=Object(a["x"])("edit-waypoint"),r=Object(a["x"])("delete-waypoint-warning");return Object(a["q"])(),Object(a["d"])("div",{class:["trail_row",n.row_style]},[Object(a["h"])("div",p,Object(a["z"])(c.x)+"/"+Object(a["z"])(c.y),1),Object(a["h"])("div",j,Object(a["z"])(c.name),1),Object(a["h"])("div",m,Object(a["z"])(c.height_asl),1),Object(a["h"])("div",O,[Object(a["h"])("button",{class:"edit",onclick:s.editButtonClick},"Edytuj",8,["onclick"]),Object(a["h"])("button",{class:"delete",onclick:s.deleteButtonClick},"Usuń",8,["onclick"])]),c.showEditWindow?(Object(a["q"])(),Object(a["d"])(o,{key:0,class:"window",onCancel:t[1]||(t[1]=function(e){return c.showEditWindow=!1}),onUpdate:s.update,item:n.item},null,8,["onUpdate","item"])):Object(a["e"])("",!0),c.showDeleteWindow?(Object(a["q"])(),Object(a["d"])(r,{key:1,class:"window",onNo:t[2]||(t[2]=function(e){return c.showDeleteWindow=!1}),onYes:s.update,item:n.item},null,8,["onYes","item"])):Object(a["e"])("",!0)],2)})),y=Object(a["H"])("data-v-03c7f535");Object(a["t"])("data-v-03c7f535");var w={class:"edit_waypoint"},v={class:"form"},k={class:"input_row"},_=Object(a["h"])("div",{class:"label"}," Nazwa: ",-1),g={class:"input_row"},W=Object(a["h"])("div",{class:"label"}," Wysokość NPM: ",-1),z={class:"options"},x={key:0,class:"error_message"};Object(a["r"])();var I=y((function(e,t,n,i,c,s){return Object(a["q"])(),Object(a["d"])("div",w,[Object(a["h"])("h1",null," Modyfikacja punktu na trasie: "+Object(a["z"])(c.x)+"/"+Object(a["z"])(c.y),1),Object(a["h"])("div",v,[Object(a["h"])("div",k,[_,Object(a["G"])(Object(a["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.name=e})},null,512),[[a["D"],c.name]])]),Object(a["h"])("div",g,[W,Object(a["G"])(Object(a["h"])("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.asl=e})},null,512),[[a["D"],c.asl]])]),Object(a["h"])("div",z,[Object(a["h"])("button",{class:"cancel",onclick:s.cancel},"Anuluj",8,["onclick"]),Object(a["h"])("button",{class:"confirm",onclick:s.confirm},"Potwierdź",8,["onclick"])])]),c.incorrectInput?(Object(a["q"])(),Object(a["d"])("div",x,Object(a["z"])(c.error_message),1)):Object(a["e"])("",!0)])})),q=n("db49"),D={name:"EditWaypoint",props:{item:{type:Object,required:!0}},data:function(){return{id:this.item.id,name:this.item.waypoint_name,x:this.item.coordinate_x,y:this.item.coordinate_y,asl:this.item.height_asl,incorrectInput:!1,error_message:""}},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){var e=this.getDataObject();e&&this.sendRequest(JSON.stringify(e))},getDataObject:function(){var e={x:parseInt(this.x,10),y:parseInt(this.y,10),name:this.name,asl:parseInt(this.asl,10)};return!e.x&&0!==e.x||!e.y&&0!==e.y||!e.asl&&0!==e.asl?(this.error_message="Proszę uzupełnić wszystkie pola",this.incorrectInput=!0,!1):e.asl<=0?(this.error_message="Wysokość nad poziom morza musi być wartością dodatnią",this.incorrectInput=!0,!1):0===e.name.length?(this.error_message="Proszę podać nazwę",this.incorrectInput=!0,!1):e},sendRequest:function(e){var t=this;b.a.put(q["a"].apiPath.concat("/waypoint/".concat(this.id)),e,{headers:{"Content-Type":"application/json"}}).then((function(){t.$emit("update")})).catch((function(e){switch(e.response.status){case 400:t.error_message="Wprowadzono błędne dane";break;case 404:t.error_message="Punkt na trasie o podanym id nie istnieje";break;default:t.error_message="Wystąpił nieoczekiwany błąd"}t.incorrectInput=!0}))}}};n("816c");D.render=I,D.__scopeId="data-v-03c7f535";var P=D,A=Object(a["H"])("data-v-3baf042e");Object(a["t"])("data-v-3baf042e");var C={class:"delete_waypoint"},U=Object(a["g"])(" Usuwanie punktu:"),N=Object(a["h"])("br",null,null,-1),R={key:0,class:"error_message"},E={class:"message"},$={class:"form"},G={class:"options"},V={key:1,class:"delete_message"},B=Object(a["h"])("div",{class:"message"},[Object(a["g"])(" Czy na pewno chcesz usunąć ten punkt na trasie? "),Object(a["h"])("br"),Object(a["g"])(" Operacja nie będzie możliwa, jeśli w systemie istnieje choć jedno powiązanie z tym punktem. ")],-1),H={class:"form"},F={class:"options"};Object(a["r"])();var J=A((function(e,t,n,i,c,s){return Object(a["q"])(),Object(a["d"])("div",C,[Object(a["h"])("h1",null,[U,N,Object(a["g"])(Object(a["z"])(c.x)+"/"+Object(a["z"])(c.y)+" "+Object(a["z"])(c.name),1)]),c.deleteForbidden?(Object(a["q"])(),Object(a["d"])("div",R,[Object(a["h"])("div",E,Object(a["z"])(c.error_message),1),Object(a["h"])("div",$,[Object(a["h"])("div",G,[Object(a["h"])("button",{class:"OK",onclick:s.no},"OK",8,["onclick"])])])])):(Object(a["q"])(),Object(a["d"])("div",V,[B,Object(a["h"])("div",H,[Object(a["h"])("div",F,[Object(a["h"])("button",{class:"yes",onclick:s.yes},"Tak",8,["onclick"]),Object(a["h"])("button",{class:"no",onclick:s.no},"Nie",8,["onclick"])])])]))])})),M=(n("96cf"),n("1da1")),S={name:"DeleteWaypointWarning",props:{item:{type:Object,required:!0}},data:function(){return{id:this.item.id,name:this.item.waypoint_name,x:this.item.coordinate_x,y:this.item.coordinate_y,deleteForbidden:!1,error_message:""}},methods:{no:function(){this.$emit("no")},yes:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.delete(q["a"].apiPath.concat("/waypoint/".concat(e.id))).then((function(){e.$emit("yes")})).catch((function(t){switch(t.response.status){case 409:e.error_message="Usunięcie tego punktu na trasie jest niemożliwe z powodu istniejących powiązań";break;case 404:e.error_message="Brak punktu na trasie o tym id";break;default:e.error_message="Wystąpił nieoczekiwany błąd"}e.deleteForbidden=!0}));case 2:case"end":return t.stop()}}),t)})))()}}};n("16c6");S.render=J,S.__scopeId="data-v-3baf042e";var Y=S,T={name:"WaypointItem",components:{DeleteWaypointWarning:Y,EditWaypoint:P},props:{item:{type:Object,required:!0},row_style:{type:String,required:!0}},data:function(){return{name:this.item.waypoint_name,x:this.item.coordinate_x,y:this.item.coordinate_y,height_asl:this.item.height_asl,showEditWindow:!1,showDeleteWindow:!1}},methods:{update:function(){this.showEditWindow=!1,this.showDeleteWindow=!1,this.$emit("reload")},editButtonClick:function(){this.showEditWindow=!0},deleteButtonClick:function(){this.showDeleteWindow=!0}}};n("8760");T.render=f,T.__scopeId="data-v-5aed7f0e";var K=T,X=Object(a["H"])("data-v-12f8e7d6");Object(a["t"])("data-v-12f8e7d6");var Z={class:"add_waypoint"},L=Object(a["h"])("h1",null," Dodawanie punktu na trasie: ",-1),Q={class:"form"},ee={class:"input_row"},te=Object(a["h"])("div",{class:"label"}," Współrzędna X: ",-1),ne={class:"input_row"},ae=Object(a["h"])("div",{class:"label"}," Współrzędna Y: ",-1),ie={class:"input_row"},ce=Object(a["h"])("div",{class:"label"}," Nazwa: ",-1),se={class:"input_row"},oe=Object(a["h"])("div",{class:"label"}," Wyspokość NPM: ",-1),re={class:"options"},de={key:0,class:"error_message"};Object(a["r"])();var ue=X((function(e,t,n,i,c,s){return Object(a["q"])(),Object(a["d"])("div",Z,[L,Object(a["h"])("div",Q,[Object(a["h"])("div",ee,[te,Object(a["G"])(Object(a["h"])("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.x=e})},null,512),[[a["D"],c.x]])]),Object(a["h"])("div",ne,[ae,Object(a["G"])(Object(a["h"])("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.y=e})},null,512),[[a["D"],c.y]])]),Object(a["h"])("div",ie,[ce,Object(a["G"])(Object(a["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.name=e})},null,512),[[a["D"],c.name]])]),Object(a["h"])("div",se,[oe,Object(a["G"])(Object(a["h"])("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.asl=e})},null,512),[[a["D"],c.asl]])]),Object(a["h"])("div",re,[Object(a["h"])("button",{class:"cancel",onclick:s.cancel},"Anuluj",8,["onclick"]),Object(a["h"])("button",{class:"confirm",onclick:s.confirm},"Potwierdź",8,["onclick"])])]),c.incorrectInput?(Object(a["q"])(),Object(a["d"])("div",de,Object(a["z"])(c.error_message),1)):Object(a["e"])("",!0)])})),le={name:"AddWaypoint",data:function(){return{x:0,y:0,name:"",asl:0,incorrectInput:!1,error_message:""}},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.getDataObject(),n&&e.sendRequest(JSON.stringify(n));case 2:case"end":return t.stop()}}),t)})))()},getDataObject:function(){var e={x:parseInt(this.x,10),y:parseInt(this.y,10),name:this.name,asl:parseInt(this.asl,10)};return!e.x&&0!==e.x||!e.y&&0!==e.y||!e.asl&&0!==e.asl?(this.error_message="Proszę uzupełnić wszystkie pola",this.incorrectInput=!0,!1):0===e.name.length?(this.error_message="Proszę podać nazwę",this.incorrectInput=!0,!1):e.asl<=0?(this.error_message="Wyskokość nad poziom morza musi być wartością dodatnią",this.incorrectInput=!0,!1):e},sendRequest:function(e){var t=this;b.a.post(q["a"].apiPath.concat("/waypoint"),e,{headers:{"Content-Type":"application/json"}}).then((function(){t.$emit("confirm")})).catch((function(e){switch(e.response.status){case 400:t.error_message="Wprowadzono błędne dane";break;case 409:t.error_message="Punkt na trasie o podanych koordynatach już istnieje";break;default:t.error_message="Wystąpił nieoczekiwany błąd"}t.incorrectInput=!0}))}}};n("4dfd");le.render=ue,le.__scopeId="data-v-12f8e7d6";var be=le,he={name:"WaypointsAdmin",components:{AddWaypoint:be,WaypointItem:K},data:function(){return{results:[],showAddWindow:!1}},methods:{addWaypoint:function(){this.showAddWindow=!0},getWaypoints:function(){var e=this;b.a.get(q["a"].apiPath.concat("/waypoints")).then((function(t){e.results=t.data.json_list})).catch((function(e){console.log(e)}))},confirmAdd:function(){this.showAddWindow=!1,this.getWaypoints()}},mounted:function(){this.getWaypoints()}};n("053a");he.render=u,he.__scopeId="data-v-59e1af0a";t["default"]=he},e81b:function(e,t,n){},eabf:function(e,t,n){}}]);
//# sourceMappingURL=chunk-a7cc62cc.de362001.js.map