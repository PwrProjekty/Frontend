(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c7b580e0"],{"0611":function(e,t,a){"use strict";a("a1d0")},"2a4c":function(e,t,a){"use strict";a("d7b0")},"58bb":function(e,t,a){},7158:function(e,t,a){"use strict";a("bf44")},"9bf9":function(e,t,a){"use strict";a("e0f5")},a1d0:function(e,t,a){},b0c0:function(e,t,a){var n=a("83ab"),i=a("9bf2").f,c=Function.prototype,s=c.toString,r=/^\s*function ([^ (]*)/,o="name";n&&!(o in c)&&i(c,o,{configurable:!0,get:function(){try{return s.call(this).match(r)[1]}catch(e){return""}}})},b4d0:function(e,t,a){"use strict";a("58bb")},bf44:function(e,t,a){},d7b0:function(e,t,a){},dd40:function(e,t,a){"use strict";a.r(t);a("99af"),a("b0c0");var n=a("7a23"),i=Object(n["H"])("data-v-e2194940");Object(n["t"])("data-v-e2194940");var c=Object(n["h"])("h1",null," Zarządzaj przodownikami ",-1),s={class:"content"},r={class:"leaders_list"},o=Object(n["f"])('<div class="list_header" data-v-e2194940><div class="name" data-v-e2194940> Imię </div><div class="surname" data-v-e2194940> Nazwisko </div><div class="email" data-v-e2194940> E-mail </div><div class="password" data-v-e2194940> Hasło </div><div class="birth_date" data-v-e2194940> Data urodzenia </div><div class="permissions" data-v-e2194940> Uprawnienia </div><div class="options" data-v-e2194940> Opcje </div></div>',1);Object(n["r"])();var d=i((function(e,t,a,i,d,l){var u=Object(n["x"])("leader-item"),b=Object(n["x"])("add-leader");return Object(n["q"])(),Object(n["d"])("div",null,[c,Object(n["h"])("div",s,[Object(n["h"])("button",{class:"add",onClick:t[1]||(t[1]=function(){return l.addLeader&&l.addLeader.apply(l,arguments)})},"Dodaj"),Object(n["h"])("div",r,[o,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(d.results,(function(e,t){return Object(n["q"])(),Object(n["d"])(u,{item:e,row_style:t%2===0?"even":"odd",key:"".concat(e.id).concat(e.name).concat(e.surname,"\n                       ").concat(e.email),onReload:l.getLeaders,categories:d.categories},null,8,["item","row_style","onReload","categories"])})),128))]),d.showAddWindow?(Object(n["q"])(),Object(n["d"])(b,{key:0,class:"add_window",onCancel:t[2]||(t[2]=function(e){return d.showAddWindow=!1}),onConfirm:l.confirmAdd,categories:d.categories},null,8,["onConfirm","categories"])):Object(n["e"])("",!0)])])})),l=Object(n["H"])("data-v-0389b083");Object(n["t"])("data-v-0389b083");var u={class:"name"},b={class:"surname"},m={class:"email"},j={class:"password"},h={class:"birth_date"},O={class:"permissions"},p={class:"options"};Object(n["r"])();var w=l((function(e,t,a,i,c,s){var r=Object(n["x"])("edit-leader"),o=Object(n["x"])("delete-leader-warning");return Object(n["q"])(),Object(n["d"])("div",{class:["leader_row",a.row_style]},[Object(n["h"])("div",u,Object(n["z"])(c.name),1),Object(n["h"])("div",b,Object(n["z"])(c.surname),1),Object(n["h"])("div",m,Object(n["z"])(c.email),1),Object(n["h"])("div",j,Object(n["z"])(c.password),1),Object(n["h"])("div",h,Object(n["z"])(c.birth_date),1),Object(n["h"])("div",O,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(c.permissions,(function(e){return Object(n["q"])(),Object(n["d"])("div",{key:e.id},Object(n["z"])(e.category_id)+". "+Object(n["z"])(e.cat_name),1)})),128))]),Object(n["h"])("div",p,[Object(n["h"])("button",{class:"edit",onclick:s.editButtonClick},"Edytuj",8,["onclick"]),Object(n["h"])("button",{class:"delete",onclick:s.deleteButtonClick},"Usuń",8,["onclick"])]),c.showEditWindow?(Object(n["q"])(),Object(n["d"])(r,{key:0,class:"window",onCancel:t[1]||(t[1]=function(e){return c.showEditWindow=!1}),onUpdate:s.update,item:a.item,categories:a.categories},null,8,["onUpdate","item","categories"])):Object(n["e"])("",!0),c.showDeleteWindow?(Object(n["q"])(),Object(n["d"])(o,{key:1,class:"window",onNo:t[2]||(t[2]=function(e){return c.showDeleteWindow=!1}),onYes:s.update,item:a.item},null,8,["onYes","item"])):Object(n["e"])("",!0)],2)})),f=Object(n["H"])("data-v-08ce59f0");Object(n["t"])("data-v-08ce59f0");var v={class:"edit_leader"},g=Object(n["g"])(" Modyfikacja przodownika:"),_=Object(n["h"])("br",null,null,-1),k=Object(n["h"])("br",null,null,-1),y={class:"form"},z={class:"input_row"},q=Object(n["h"])("div",{class:"label"}," Imię: ",-1),D={class:"input_row"},W=Object(n["h"])("div",{class:"label"}," Nazwisko: ",-1),I={class:"input_row"},U=Object(n["h"])("div",{class:"label"}," Email: ",-1),x={class:"input_row"},L=Object(n["h"])("div",{class:"label"}," Hasło: ",-1),A={class:"input_row"},P=Object(n["h"])("div",{class:"label"}," Uprawnienia: ",-1),C={class:"options"},E={key:0,class:"error_message"};Object(n["r"])();var G=f((function(e,t,a,i,c,s){return Object(n["q"])(),Object(n["d"])("div",v,[Object(n["h"])("h1",null,[g,_,Object(n["g"])(" "+Object(n["z"])(c.name)+" "+Object(n["z"])(c.surname),1),k]),Object(n["h"])("div",y,[Object(n["h"])("div",z,[q,Object(n["h"])("label",null,[Object(n["G"])(Object(n["h"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.name=e}),required:""},null,512),[[n["D"],c.name]])])]),Object(n["h"])("div",D,[W,Object(n["h"])("label",null,[Object(n["G"])(Object(n["h"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.surname=e}),required:""},null,512),[[n["D"],c.surname]])])]),Object(n["h"])("div",I,[U,Object(n["h"])("label",null,[Object(n["G"])(Object(n["h"])("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.email=e}),required:""},null,512),[[n["D"],c.email]])])]),Object(n["h"])("div",x,[L,Object(n["h"])("label",null,[Object(n["G"])(Object(n["h"])("input",{type:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.password=e}),required:""},null,512),[[n["D"],c.password]])])]),Object(n["h"])("div",A,[P,Object(n["h"])("label",null,[Object(n["G"])(Object(n["h"])("select",{multiple:"","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.permissions=e})},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(a.categories,(function(e){return Object(n["q"])(),Object(n["d"])("option",{key:e.id},Object(n["z"])(e.cat_name),1)})),128))],512),[[n["C"],c.permissions]])])]),Object(n["h"])("div",C,[Object(n["h"])("button",{class:"cancel",onclick:s.cancel},"Anuluj",8,["onclick"]),Object(n["h"])("button",{class:"confirm",onclick:s.confirm},"Potwierdź",8,["onclick"])])]),c.incorrectInput?(Object(n["q"])(),Object(n["d"])("div",E,Object(n["z"])(c.error_message),1)):Object(n["e"])("",!0)])})),H=(a("96cf"),a("1da1")),V=a("bc3a"),N=a.n(V),R=a("db49"),$={name:"EditLeader",props:{item:{type:Object,required:!0},categories:{type:Array,required:!0}},data:function(){return{id:this.item.id,name:this.item.name,surname:this.item.surname,email:this.item.email,password:this.item.password,permissions:[],incorrectInput:!1,error_message:""}},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateData()){t.next=3;break}return e.incorrectInput=!0,t.abrupt("return");case 3:return a=JSON.stringify({name:e.name,surname:e.surname,email:e.email,password:e.password,permissions:e.permissions}),console.log(a),t.next=7,N.a.put(R["a"].apiPath.concat("/leader/".concat(e.id)),a,{headers:{"Content-Type":"application/json"}}).then((function(){e.$emit("update")})).catch((function(t){switch(t.response.status){case 400:e.error_message="Wprowadzono błędne dane.";break;case 404:e.error_message="Przodownik o podanym id nie istnieje.";break;case 408:e.error_message="Przodownik posiada już takie uprawnienia.";break;case 409:e.error_message="Podany email jest zajęty.";break;case 409:e.error_message="Nie można zmienić przodownikowi uprawnień";break;default:e.error_message="Wystąpił nieoczekiwany błąd."}e.incorrectInput=!0}));case 7:case"end":return t.stop()}}),t)})))()},validateData:function(){return this.error_message="",""===this.name||""===this.surname||""===this.email?(this.error_message="Musisz wypełnić wszystkie pola.",!1):!(this.password.length<8)||(this.error_message+=" Hasło musi mieć co najmniej 8 znaków.",!1)}}};a("0611");$.render=G,$.__scopeId="data-v-08ce59f0";var B=$,F=Object(n["H"])("data-v-714afadf");Object(n["t"])("data-v-714afadf");var J={class:"delete_leader"},S=Object(n["g"])(" Usuwanie przodownika:"),M=Object(n["h"])("br",null,null,-1),T={key:0,class:"error_message"},K={class:"message"},Y={class:"form"},Z={class:"options"},Q={key:1,class:"delete_message"},X=Object(n["h"])("div",{class:"message"},[Object(n["g"])(" Czy na pewno chcesz usunąć tego przodownika? "),Object(n["h"])("br"),Object(n["g"])(" Operacja nie będzie możliwa, jeśli w systemie istnieje choć jedno powiązanie z tym przodownikiem. ")],-1),ee={class:"form"},te={class:"options"};Object(n["r"])();var ae=F((function(e,t,a,i,c,s){return Object(n["q"])(),Object(n["d"])("div",J,[Object(n["h"])("h1",null,[S,M,Object(n["g"])(Object(n["z"])(c.name)+"-"+Object(n["z"])(c.surname),1)]),c.deleteForbidden?(Object(n["q"])(),Object(n["d"])("div",T,[Object(n["h"])("div",K,Object(n["z"])(c.error_message),1),Object(n["h"])("div",Y,[Object(n["h"])("div",Z,[Object(n["h"])("button",{class:"OK",onclick:s.no},"OK",8,["onclick"])])])])):(Object(n["q"])(),Object(n["d"])("div",Q,[X,Object(n["h"])("div",ee,[Object(n["h"])("div",te,[Object(n["h"])("button",{class:"yes",onclick:s.yes},"Tak",8,["onclick"]),Object(n["h"])("button",{class:"no",onclick:s.no},"Nie",8,["onclick"])])])]))])})),ne={name:"DeleteLeaderWarning",props:{item:{type:Object,required:!0}},data:function(){return{id:this.item.id,name:this.item.name,surname:this.item.surname,deleteForbidden:!1,error_message:""}},methods:{no:function(){this.$emit("no")},yes:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.a.delete(R["a"].apiPath.concat("/leader/".concat(e.id))).then((function(){e.$emit("yes")})).catch((function(t){switch(t.response.status){case 409:e.error_message="Usunięcie tego przodownika jest niemożliwe z powodu istniejących powiązań";break;case 404:e.error_message="Brak przodownika o tym id";break;default:e.error_message="Wystąpił nieoczekiwany błąd"}e.deleteForbidden=!0}));case 2:case"end":return t.stop()}}),t)})))()}}};a("7158");ne.render=ae,ne.__scopeId="data-v-714afadf";var ie=ne,ce={name:"LeaderItem",components:{DeleteLeaderWarning:ie,EditLeader:B},props:{item:{type:Object,required:!0},row_style:{type:String,required:!0},categories:{type:Array,required:!0}},data:function(){return{id:this.item.id,name:this.item.name,surname:this.item.surname,birth_date:this.item.birth_date,email:this.item.email,password:this.item.password,permissions:this.item.permissions,showDeleteWindow:!1,showEditWindow:!1}},methods:{update:function(){this.showEditWindow=!1,this.showDeleteWindow=!1,this.$emit("reload")},editButtonClick:function(){this.showEditWindow=!0},deleteButtonClick:function(){this.showDeleteWindow=!0},getPermissions:function(){var e=this;N.a.get(R["a"].apiPath.concat("/permissions/".concat(this.id))).then((function(t){e.permissions=t.data.json_list})).catch((function(e){console.log(e)}))}},mounted:function(){this.getPermissions(),this.birth_date=this.birth_date.substring(5,17)}};a("9bf9");ce.render=w,ce.__scopeId="data-v-0389b083";var se=ce,re=Object(n["H"])("data-v-3bf4d670");Object(n["t"])("data-v-3bf4d670");var oe={class:"add_leader"},de=Object(n["h"])("h1",null," Dodawanie przodownika: ",-1),le={class:"form"},ue={class:"input_row"},be=Object(n["h"])("div",{class:"label"}," Imię: ",-1),me={class:"input_row"},je=Object(n["h"])("div",{class:"label"}," Nazwisko: ",-1),he={class:"input_row"},Oe=Object(n["h"])("div",{class:"label"}," Email: ",-1),pe={class:"input_row"},we=Object(n["h"])("div",{class:"label"}," Hasło: ",-1),fe={class:"input_row"},ve=Object(n["h"])("div",{class:"label"}," Data urodzenia: ",-1),ge={class:"options"},_e={key:0,class:"error_message"};Object(n["r"])();var ke=re((function(e,t,a,i,c,s){return Object(n["q"])(),Object(n["d"])("div",oe,[de,Object(n["h"])("div",le,[Object(n["h"])("div",ue,[be,Object(n["h"])("label",null,[Object(n["G"])(Object(n["h"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.name=e}),required:""},null,512),[[n["D"],c.name]])])]),Object(n["h"])("div",me,[je,Object(n["h"])("label",null,[Object(n["G"])(Object(n["h"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.surname=e}),required:""},null,512),[[n["D"],c.surname]])])]),Object(n["h"])("div",he,[Oe,Object(n["h"])("label",null,[Object(n["G"])(Object(n["h"])("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.email=e}),required:""},null,512),[[n["D"],c.email]])])]),Object(n["h"])("div",pe,[we,Object(n["h"])("label",null,[Object(n["G"])(Object(n["h"])("input",{type:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.password=e}),required:""},null,512),[[n["D"],c.password]])])]),Object(n["h"])("div",fe,[ve,Object(n["h"])("label",null,[Object(n["G"])(Object(n["h"])("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.birth_date=e})},null,512),[[n["D"],c.birth_date]])])]),Object(n["h"])("div",ge,[Object(n["h"])("button",{class:"cancel",onclick:s.cancel},"Anuluj",8,["onclick"]),Object(n["h"])("button",{class:"confirm",onclick:s.confirm},"Potwierdź",8,["onclick"])])]),c.incorrectInput?(Object(n["q"])(),Object(n["d"])("div",_e,Object(n["z"])(c.error_message),1)):Object(n["e"])("",!0)])})),ye={name:"AddLeader",props:{categories:{type:Array,required:!0}},data:function(){return{name:"",surname:"",birth_date:"",email:"",password:"",incorrectInput:!1,error_message:""}},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateData()){t.next=3;break}return e.incorrectInput=!0,t.abrupt("return");case 3:return a=JSON.stringify({name:e.name,surname:e.surname,birth_date:e.birth_date,email:e.email,password:e.password}),t.next=6,N.a.post(R["a"].apiPath.concat("/leader"),a,{headers:{"Content-Type":"application/json"}}).then((function(){e.$emit("confirm")})).catch((function(t){switch(t.response.status){case 400:e.error_message="Wprowadzono błędne dane";break;case 409:e.error_message="Podany email jest zajęty";break;default:e.error_message="Wystąpił nieoczekiwany błąd"}e.incorrectInput=!0}));case 6:case"end":return t.stop()}}),t)})))()},validateData:function(){return this.error_message="",""===this.name||""===this.surname||""===this.email?(this.error_message="Musisz wypełnić wszystkie pola.",!1):!(this.password.length<8)||(this.error_message+="Hasło musi mieć co najmniej 8 znaków.",!1)}}};a("2a4c");ye.render=ke,ye.__scopeId="data-v-3bf4d670";var ze=ye,qe={name:"LeadersAdmin",components:{AddLeader:ze,LeaderItem:se},data:function(){return{results:[],showAddWindow:!1,categories:[]}},methods:{addLeader:function(){this.showAddWindow=!0},getLeaders:function(){var e=this;N.a.get(R["a"].apiPath.concat("/leaders")).then((function(t){e.results=t.data.json_list})).catch((function(e){console.log(e)}))},confirmAdd:function(){this.showAddWindow=!1,this.getLeaders()}},mounted:function(){var e=this;this.getLeaders(),N.a.get(R["a"].apiPath.concat("/categories")).then((function(t){e.categories=t.data.json_list})).catch((function(e){console.log(e)}))}};a("b4d0");qe.render=d,qe.__scopeId="data-v-e2194940";t["default"]=qe},e0f5:function(e,t,a){}}]);
//# sourceMappingURL=chunk-c7b580e0.0463f45e.js.map